{"remainingRequest":"/Volumes/workspace/codespace/github/moli/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js??ref--3-1!/Volumes/workspace/codespace/github/moli/node_modules/_@vuepress_core@1.3.1@@vuepress/core/lib/client/root-mixins/updateMeta.js","dependencies":[{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_@vuepress_core@1.3.1@@vuepress/core/lib/client/root-mixins/updateMeta.js","mtime":499162500000},{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1ZvbHVtZXMvd29ya3NwYWNlL2NvZGVzcGFjZS9naXRodWIvbW9saS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRzc3JDb250ZXh0KSB7CiAgICAgIHRoaXMuJHNzckNvbnRleHQudGl0bGUgPSB0aGlzLiR0aXRsZTsKICAgICAgdGhpcy4kc3NyQ29udGV4dC5sYW5nID0gdGhpcy4kbGFuZzsKICAgICAgdGhpcy4kc3NyQ29udGV4dC5kZXNjcmlwdGlvbiA9IHRoaXMuJHBhZ2UuZGVzY3JpcHRpb24gfHwgdGhpcy4kZGVzY3JpcHRpb247CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8gdXBkYXRlIHRpdGxlIC8gbWV0YSB0YWdzCiAgICB0aGlzLmN1cnJlbnRNZXRhVGFncyA9IG5ldyBTZXQoKTsKICAgIHRoaXMudXBkYXRlTWV0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlTWV0YTogZnVuY3Rpb24gdXBkYXRlTWV0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGRvY3VtZW50LnRpdGxlID0gdGhpcy4kdGl0bGU7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nID0gdGhpcy4kbGFuZzsKICAgICAgdmFyIHVzZXJNZXRhID0gdGhpcy4kcGFnZS5mcm9udG1hdHRlci5tZXRhIHx8IFtdOwogICAgICB2YXIgbWV0YSA9IHVzZXJNZXRhLnNsaWNlKDApOwogICAgICB2YXIgdXNlR2xvYmFsRGVzY3JpcHRpb24gPSB1c2VyTWV0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsKICAgICAgICByZXR1cm4gbS5uYW1lID09PSAnZGVzY3JpcHRpb24nOwogICAgICB9KS5sZW5ndGggPT09IDA7IC8vICM2NjUgQXZvaWQgZHVwbGljYXRlIGRlc2NyaXB0aW9uIG1ldGEgYXQgcnVudGltZS4KCiAgICAgIGlmICh1c2VHbG9iYWxEZXNjcmlwdGlvbikgewogICAgICAgIG1ldGEucHVzaCh7CiAgICAgICAgICBuYW1lOiAnZGVzY3JpcHRpb24nLAogICAgICAgICAgY29udGVudDogdGhpcy4kZGVzY3JpcHRpb24KICAgICAgICB9KTsKICAgICAgfSAvLyBJbmNsdWRpbmcgZGVzY3JpcHRpb24gbWV0YSBjb21pbmcgZnJvbSBTU1IuCgoKICAgICAgdmFyIGRlc2NyaXB0aW9uTWV0YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdtZXRhW25hbWU9ImRlc2NyaXB0aW9uIl0nKTsKCiAgICAgIGlmIChkZXNjcmlwdGlvbk1ldGFzLmxlbmd0aCkgewogICAgICAgIGRlc2NyaXB0aW9uTWV0YXMuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgcmV0dXJuIF90aGlzLmN1cnJlbnRNZXRhVGFncy5hZGQobSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY3VycmVudE1ldGFUYWdzID0gbmV3IFNldCh1cGRhdGVNZXRhVGFncyhtZXRhLCB0aGlzLmN1cnJlbnRNZXRhVGFncykpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRwYWdlOiBmdW5jdGlvbiAkcGFnZSgpIHsKICAgICAgdGhpcy51cGRhdGVNZXRhKCk7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdXBkYXRlTWV0YVRhZ3MobnVsbCwgdGhpcy5jdXJyZW50TWV0YVRhZ3MpOwogIH0KfTsKCmZ1bmN0aW9uIHVwZGF0ZU1ldGFUYWdzKG1ldGEsIGN1cnJlbnQpIHsKICBpZiAoY3VycmVudCkgewogICAgX3RvQ29uc3VtYWJsZUFycmF5KGN1cnJlbnQpLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChjKTsKICAgIH0pOwogIH0KCiAgaWYgKG1ldGEpIHsKICAgIHJldHVybiBtZXRhLm1hcChmdW5jdGlvbiAobSkgewogICAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWV0YScpOwogICAgICBPYmplY3Qua2V5cyhtKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICB0YWcuc2V0QXR0cmlidXRlKGtleSwgbVtrZXldKTsKICAgICAgfSk7CiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGFnKTsKICAgICAgcmV0dXJuIHRhZzsKICAgIH0pOwogIH0KfQ=="},{"version":3,"sources":["/Volumes/workspace/codespace/github/moli/node_modules/_@vuepress_core@1.3.1@@vuepress/core/lib/client/root-mixins/updateMeta.js"],"names":["created","$ssrContext","title","$title","lang","$lang","description","$page","$description","mounted","currentMetaTags","Set","updateMeta","methods","document","documentElement","userMeta","frontmatter","meta","slice","useGlobalDescription","filter","m","name","length","push","content","descriptionMetas","querySelectorAll","forEach","add","updateMetaTags","watch","beforeDestroy","current","c","head","removeChild","map","tag","createElement","Object","keys","key","setAttribute","appendChild"],"mappings":";;;;;;;;;;;;;;AAAA,eAAe;AACbA,EAAAA,OADa,qBACF;AACT,QAAI,KAAKC,WAAT,EAAsB;AACpB,WAAKA,WAAL,CAAiBC,KAAjB,GAAyB,KAAKC,MAA9B;AACA,WAAKF,WAAL,CAAiBG,IAAjB,GAAwB,KAAKC,KAA7B;AACA,WAAKJ,WAAL,CAAiBK,WAAjB,GAA+B,KAAKC,KAAL,CAAWD,WAAX,IAA0B,KAAKE,YAA9D;AACD;AACF,GAPY;AASbC,EAAAA,OATa,qBASF;AACT;AACA,SAAKC,eAAL,GAAuB,IAAIC,GAAJ,EAAvB;AACA,SAAKC,UAAL;AACD,GAbY;AAebC,EAAAA,OAAO,EAAE;AACPD,IAAAA,UADO,wBACO;AAAA;;AACZE,MAAAA,QAAQ,CAACZ,KAAT,GAAiB,KAAKC,MAAtB;AACAW,MAAAA,QAAQ,CAACC,eAAT,CAAyBX,IAAzB,GAAgC,KAAKC,KAArC;AACA,UAAMW,QAAQ,GAAG,KAAKT,KAAL,CAAWU,WAAX,CAAuBC,IAAvB,IAA+B,EAAhD;AACA,UAAMA,IAAI,GAAGF,QAAQ,CAACG,KAAT,CAAe,CAAf,CAAb;AACA,UAAMC,oBAAoB,GAAGJ,QAAQ,CAACK,MAAT,CAAgB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,IAAF,KAAW,aAAf;AAAA,OAAjB,EAA+CC,MAA/C,KAA0D,CAAvF,CALY,CAOZ;;AACA,UAAIJ,oBAAJ,EAA0B;AACxBF,QAAAA,IAAI,CAACO,IAAL,CAAU;AAAEF,UAAAA,IAAI,EAAE,aAAR;AAAuBG,UAAAA,OAAO,EAAE,KAAKlB;AAArC,SAAV;AACD,OAVW,CAYZ;;;AACA,UAAMmB,gBAAgB,GAAGb,QAAQ,CAACc,gBAAT,CAA0B,0BAA1B,CAAzB;;AACA,UAAID,gBAAgB,CAACH,MAArB,EAA6B;AAC3BG,QAAAA,gBAAgB,CAACE,OAAjB,CAAyB,UAAAP,CAAC;AAAA,iBAAI,KAAI,CAACZ,eAAL,CAAqBoB,GAArB,CAAyBR,CAAzB,CAAJ;AAAA,SAA1B;AACD;;AAED,WAAKZ,eAAL,GAAuB,IAAIC,GAAJ,CAAQoB,cAAc,CAACb,IAAD,EAAO,KAAKR,eAAZ,CAAtB,CAAvB;AACD;AApBM,GAfI;AAsCbsB,EAAAA,KAAK,EAAE;AACLzB,IAAAA,KADK,mBACI;AACP,WAAKK,UAAL;AACD;AAHI,GAtCM;AA4CbqB,EAAAA,aA5Ca,2BA4CI;AACfF,IAAAA,cAAc,CAAC,IAAD,EAAO,KAAKrB,eAAZ,CAAd;AACD;AA9CY,CAAf;;AAiDA,SAASqB,cAAT,CAAyBb,IAAzB,EAA+BgB,OAA/B,EAAwC;AACtC,MAAIA,OAAJ,EAAa;AACX,uBAAIA,OAAJ,EAAaL,OAAb,CAAqB,UAAAM,CAAC,EAAI;AACxBrB,MAAAA,QAAQ,CAACsB,IAAT,CAAcC,WAAd,CAA0BF,CAA1B;AACD,KAFD;AAGD;;AACD,MAAIjB,IAAJ,EAAU;AACR,WAAOA,IAAI,CAACoB,GAAL,CAAS,UAAAhB,CAAC,EAAI;AACnB,UAAMiB,GAAG,GAAGzB,QAAQ,CAAC0B,aAAT,CAAuB,MAAvB,CAAZ;AACAC,MAAAA,MAAM,CAACC,IAAP,CAAYpB,CAAZ,EAAeO,OAAf,CAAuB,UAAAc,GAAG,EAAI;AAC5BJ,QAAAA,GAAG,CAACK,YAAJ,CAAiBD,GAAjB,EAAsBrB,CAAC,CAACqB,GAAD,CAAvB;AACD,OAFD;AAGA7B,MAAAA,QAAQ,CAACsB,IAAT,CAAcS,WAAd,CAA0BN,GAA1B;AACA,aAAOA,GAAP;AACD,KAPM,CAAP;AAQD;AACF","sourcesContent":["export default {\n  created () {\n    if (this.$ssrContext) {\n      this.$ssrContext.title = this.$title\n      this.$ssrContext.lang = this.$lang\n      this.$ssrContext.description = this.$page.description || this.$description\n    }\n  },\n\n  mounted () {\n    // update title / meta tags\n    this.currentMetaTags = new Set()\n    this.updateMeta()\n  },\n\n  methods: {\n    updateMeta () {\n      document.title = this.$title\n      document.documentElement.lang = this.$lang\n      const userMeta = this.$page.frontmatter.meta || []\n      const meta = userMeta.slice(0)\n      const useGlobalDescription = userMeta.filter(m => m.name === 'description').length === 0\n\n      // #665 Avoid duplicate description meta at runtime.\n      if (useGlobalDescription) {\n        meta.push({ name: 'description', content: this.$description })\n      }\n\n      // Including description meta coming from SSR.\n      const descriptionMetas = document.querySelectorAll('meta[name=\"description\"]')\n      if (descriptionMetas.length) {\n        descriptionMetas.forEach(m => this.currentMetaTags.add(m))\n      }\n\n      this.currentMetaTags = new Set(updateMetaTags(meta, this.currentMetaTags))\n    }\n  },\n\n  watch: {\n    $page () {\n      this.updateMeta()\n    }\n  },\n\n  beforeDestroy () {\n    updateMetaTags(null, this.currentMetaTags)\n  }\n}\n\nfunction updateMetaTags (meta, current) {\n  if (current) {\n    [...current].forEach(c => {\n      document.head.removeChild(c)\n    })\n  }\n  if (meta) {\n    return meta.map(m => {\n      const tag = document.createElement('meta')\n      Object.keys(m).forEach(key => {\n        tag.setAttribute(key, m[key])\n      })\n      document.head.appendChild(tag)\n      return tag\n    })\n  }\n}\n"]}]}