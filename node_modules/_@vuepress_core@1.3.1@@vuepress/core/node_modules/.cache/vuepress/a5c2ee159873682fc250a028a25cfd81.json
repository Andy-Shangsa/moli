{"remainingRequest":"/Volumes/workspace/codespace/github/moli/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js??ref--3-1!/Volumes/workspace/codespace/github/moli/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js??ref--0-0!/Volumes/workspace/codespace/github/moli/node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!/Volumes/workspace/codespace/github/moli/src/packages/form/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/workspace/codespace/github/moli/src/packages/form/form.vue","mtime":1584193378591},{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xGb3JtJywKICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogdGhpcwogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBtb2RlbDogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCiAgICBydWxlczogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coJ2Zvcm0gbmFtZScsIF90aGlzLiRvcHRpb25zLmNvbXBvbmVudE5hbWUpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNldEZpbGVkczogZnVuY3Rpb24gcmVzZXRGaWxlZHMoKSB7CiAgICAgIHRoaXMuZmlsZWRzLmZvckVhY2goZnVuY3Rpb24gKGZpbGVkKSB7CiAgICAgICAgZmllbGQucmVzZXRGaWxlZHMoKTsKICAgICAgfSk7CiAgICB9LAogICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGNiKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGlzVmFsaWQgPSB0cnVlOwogICAgICB2YXIgY291bnRlciA9IDA7CiAgICAgIHRoaXMuZmlsZWRzLmZvckVhY2goZnVuY3Rpb24gKGZpbGVkKSB7CiAgICAgICAgZmlsZWQudmFsaWRhdGUoJycsIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIGNvdW50ZXIrKzsKCiAgICAgICAgICBpZiAoY291dG5lciA9PT0gX3RoaXMyLmZpbGVkcy5sZW5ndGgpIHsKICAgICAgICAgICAgaWYgKGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYihpc1ZhbGlkKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsZWRzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAvKiDliJ3lp4vljJbnmoTml7blgJnnvJPlrZhmb3JtLWl0ZW0gKi8KICAgIHRoaXMuJG9uKCdvbi1mb3JtLWl0ZW0tYWRkJywgZnVuY3Rpb24gKGZpbGVkKSB7CiAgICAgIGNvbnNvbGUubG9nKCdmb3JtLWl0ZW0tYWRkJyk7CiAgICAgIGlmIChmaWxlZCkgX3RoaXMzLmZpbGVkcy5wdXNoKGZpbGVkKTsKICAgIH0pOwogICAgLyogZm9ybS1pdGVt6ZSA5q+B55qE5pe25YCZ56e76ZmkICovCgogICAgdGhpcy4kb24oJ29uLWZvcm0taXRlbS1kZXN0cm95JywgZnVuY3Rpb24gKGZpbGVkKSB7CiAgICAgIGNvbnNvbGUubG9nKCdmb3JtLWl0ZW0tZGVzdHJveScpOwogICAgICBpZiAoZmlsZWQucHJvcCkgX3RoaXMzLmZpbGVkcy5zcGxpY2UoX3RoaXMzLmZpbGVkcy5pbmRleE9mKGZpbGVkKSwgMSk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["form.vue"],"names":[],"mappings":";;;;;;;;;AAMA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,OAFA,qBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AAJA,GAPA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EAAA,KAAA,CAAA,QAAA,CAAA,aAAA;AACA,KAFA;AAGA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA;AACA,OAFA;AAGA,KALA;AAOA,IAAA,QAPA,oBAOA,EAPA,EAOA;AAAA;;AACA,UAAA,OAAA,GAAA,IAAA;AACA,UAAA,OAAA,GAAA,CAAA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,EAAA,EAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,EAAA;AACA,YAAA,OAAA,GAAA,KAAA;AACA;;AAEA,UAAA,OAAA;;AACA,cAAA,OAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA;AACA,gBAAA,QAAA,KAAA,UAAA,EACA,EAAA,CAAA,OAAA,CAAA;AACA;AACA,SAVA;AAWA,OAZA;AAaA;AAvBA,GApBA;AA6CA,EAAA,IA7CA,kBA6CA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GAjDA;AAkDA,EAAA,OAlDA,qBAkDA;AAAA;;AACA;AACA,SAAA,GAAA,CAAA,kBAAA,EAAA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,eAAA;AACA,UAAA,KAAA,EACA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA;AACA,KAJA;AAMA;;AACA,SAAA,GAAA,CAAA,sBAAA,EAAA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AACA,UAAA,KAAA,CAAA,IAAA,EACA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA,EAAA,CAAA;AACA,KAJA;AAKA;AAhEA,CAAA","sourcesContent":["<template>\n  <form>\n    <slot></slot>\n  </form>\n</template>\n<script>\nexport default {\n name: 'lForm',\n provide() {\n   return {\n     form: this\n   }\n },\n props: {\n   model: {\n     type: Object\n   },\n   rules: {\n     type: Object\n   }\n },\n mounted() {\n   this.$nextTick(() => {\n     console.log('form name', this.$options.componentName)\n   })\n },\n methods: {\n   resetFileds() {\n     this.fileds.forEach(filed => {\n       field.resetFileds()\n     })\n   },\n\n   validate(cb) {\n     let isValid = true\n     let counter = 0\n     this.fileds.forEach(filed => {\n       filed.validate('', err => {\n         if (err) {\n           isValid = false\n         }\n        \n          counter++\n         if (coutner === this.fileds.length) {\n           if (callback === 'function')\n            cb(isValid)\n         }\n       })\n     })\n   }\n },\n data() {\n   return {\n     fileds: []\n   }\n },\n created() {\n   /* 初始化的时候缓存form-item */\n   this.$on('on-form-item-add', (filed) => {\n     console.log('form-item-add')\n     if (filed)\n      this.fileds.push(filed)\n   })\n\n  /* form-item销毁的时候移除 */\n   this.$on('on-form-item-destroy', (filed) => {\n     console.log('form-item-destroy')\n     if (filed.prop) \n      this.fileds.splice(this.fileds.indexOf(filed), 1)\n   })\n }\n}\n</script>"],"sourceRoot":"src/packages/form"}]}