{"remainingRequest":"/Volumes/workspace/codespace/github/moli/node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!/Volumes/workspace/codespace/github/moli/src/packages/form/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/workspace/codespace/github/moli/src/packages/form/form.vue","mtime":1584193378591},{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/workspace/codespace/github/moli/node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKIG5hbWU6ICdsRm9ybScsCiBwcm92aWRlKCkgewogICByZXR1cm4gewogICAgIGZvcm06IHRoaXMKICAgfQogfSwKIHByb3BzOiB7CiAgIG1vZGVsOiB7CiAgICAgdHlwZTogT2JqZWN0CiAgIH0sCiAgIHJ1bGVzOiB7CiAgICAgdHlwZTogT2JqZWN0CiAgIH0KIH0sCiBtb3VudGVkKCkgewogICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgY29uc29sZS5sb2coJ2Zvcm0gbmFtZScsIHRoaXMuJG9wdGlvbnMuY29tcG9uZW50TmFtZSkKICAgfSkKIH0sCiBtZXRob2RzOiB7CiAgIHJlc2V0RmlsZWRzKCkgewogICAgIHRoaXMuZmlsZWRzLmZvckVhY2goZmlsZWQgPT4gewogICAgICAgZmllbGQucmVzZXRGaWxlZHMoKQogICAgIH0pCiAgIH0sCgogICB2YWxpZGF0ZShjYikgewogICAgIGxldCBpc1ZhbGlkID0gdHJ1ZQogICAgIGxldCBjb3VudGVyID0gMAogICAgIHRoaXMuZmlsZWRzLmZvckVhY2goZmlsZWQgPT4gewogICAgICAgZmlsZWQudmFsaWRhdGUoJycsIGVyciA9PiB7CiAgICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2UKICAgICAgICAgfQogICAgICAgIAogICAgICAgICAgY291bnRlcisrCiAgICAgICAgIGlmIChjb3V0bmVyID09PSB0aGlzLmZpbGVkcy5sZW5ndGgpIHsKICAgICAgICAgICBpZiAoY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpCiAgICAgICAgICAgIGNiKGlzVmFsaWQpCiAgICAgICAgIH0KICAgICAgIH0pCiAgICAgfSkKICAgfQogfSwKIGRhdGEoKSB7CiAgIHJldHVybiB7CiAgICAgZmlsZWRzOiBbXQogICB9CiB9LAogY3JlYXRlZCgpIHsKICAgLyog5Yid5aeL5YyW55qE5pe25YCZ57yT5a2YZm9ybS1pdGVtICovCiAgIHRoaXMuJG9uKCdvbi1mb3JtLWl0ZW0tYWRkJywgKGZpbGVkKSA9PiB7CiAgICAgY29uc29sZS5sb2coJ2Zvcm0taXRlbS1hZGQnKQogICAgIGlmIChmaWxlZCkKICAgICAgdGhpcy5maWxlZHMucHVzaChmaWxlZCkKICAgfSkKCiAgLyogZm9ybS1pdGVt6ZSA5q+B55qE5pe25YCZ56e76ZmkICovCiAgIHRoaXMuJG9uKCdvbi1mb3JtLWl0ZW0tZGVzdHJveScsIChmaWxlZCkgPT4gewogICAgIGNvbnNvbGUubG9nKCdmb3JtLWl0ZW0tZGVzdHJveScpCiAgICAgaWYgKGZpbGVkLnByb3ApIAogICAgICB0aGlzLmZpbGVkcy5zcGxpY2UodGhpcy5maWxlZHMuaW5kZXhPZihmaWxlZCksIDEpCiAgIH0pCiB9Cn0K"},{"version":3,"sources":["form.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"form.vue","sourceRoot":"src/packages/form","sourcesContent":["<template>\n  <form>\n    <slot></slot>\n  </form>\n</template>\n<script>\nexport default {\n name: 'lForm',\n provide() {\n   return {\n     form: this\n   }\n },\n props: {\n   model: {\n     type: Object\n   },\n   rules: {\n     type: Object\n   }\n },\n mounted() {\n   this.$nextTick(() => {\n     console.log('form name', this.$options.componentName)\n   })\n },\n methods: {\n   resetFileds() {\n     this.fileds.forEach(filed => {\n       field.resetFileds()\n     })\n   },\n\n   validate(cb) {\n     let isValid = true\n     let counter = 0\n     this.fileds.forEach(filed => {\n       filed.validate('', err => {\n         if (err) {\n           isValid = false\n         }\n        \n          counter++\n         if (coutner === this.fileds.length) {\n           if (callback === 'function')\n            cb(isValid)\n         }\n       })\n     })\n   }\n },\n data() {\n   return {\n     fileds: []\n   }\n },\n created() {\n   /* 初始化的时候缓存form-item */\n   this.$on('on-form-item-add', (filed) => {\n     console.log('form-item-add')\n     if (filed)\n      this.fileds.push(filed)\n   })\n\n  /* form-item销毁的时候移除 */\n   this.$on('on-form-item-destroy', (filed) => {\n     console.log('form-item-destroy')\n     if (filed.prop) \n      this.fileds.splice(this.fileds.indexOf(filed), 1)\n   })\n }\n}\n</script>"]}]}